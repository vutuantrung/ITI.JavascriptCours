{"version":3,"sources":["../es2015/src/iterator.spec.js"],"names":["describe","it","done","obj","a","b","c","d","e","props","length","Object","keys","prop","key","undefined","value","hasOwnProperty","iterationResult","IteratorResult","end","values","Math","floor","random","i","iterator","Iterator","next","words","wordIterable","split","forEach","result","w","to","be","equal","true"],"mappings":"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","file":"iterator.spec.js","sourceRoot":"es2015","sourcesContent":["import { assert, expect, should } from \"chai\";\r\nimport { Iterable, Iterator, IteratorResult, toIterable, split } from './iterator';\r\n\r\ndescribe(\"Iterator Tests\", () => {\r\n    it(\"toIterable test\", (done) => {\r\n        let obj = {\r\n            a: 1,\r\n            b: \"a\",\r\n            c: true,\r\n            d: [1, 2, 3],\r\n            e: () => {}\r\n        };\r\n\r\n        toIterable(obj);\r\n        let props = [...obj];\r\n        assert(\r\n            props.length === Object.keys(obj).length, \r\n            `the properties length must be ${Object.keys(obj).length}`\r\n        );\r\n        \r\n        for (let prop of obj) {\r\n            assert( \r\n                prop.key != undefined && prop.value != undefined,\r\n                'The iteration value must be a key/value object'\r\n            );\r\n            assert(\r\n                obj.hasOwnProperty(prop.key),\r\n                `the property '${prop.key}' does not exists on the object`\r\n            );\r\n            assert(\r\n                prop.value === obj[prop.key],\r\n                `the property '${prop.key}' must have the value ${obj[prop.key]}` \r\n            );\r\n        }\r\n        done();\r\n    });\r\n\r\n    it(\"IteratorResult class test\", (done) => {\r\n        let iterationResult = new IteratorResult(1, false);\r\n        assert(\r\n            iterationResult.value === 1,\r\n            \"The IteratorResult value property must be 1\"\r\n        );\r\n\r\n        assert(\r\n            iterationResult.done === false,\r\n            \"The IteratorResult done property must be false\"\r\n        );\r\n        done();\r\n    });\r\n\r\n    it(\"Iterator class test\", (end) => {\r\n        let values = [ \r\n           Math.floor((Math.random() * 100) + 1), \r\n           Math.floor((Math.random() * 100) + 1),\r\n           Math.floor((Math.random() * 100) + 1)\r\n        ];\r\n        let i = 0;\r\n        let iterator = new Iterator(() => {\r\n            if (i < values.length) {\r\n                return values[i++];\r\n            }\r\n        });\r\n\r\n        assert(\r\n            typeof iterator.next === 'function',\r\n            \"The Iterator next property must be  a function\"\r\n        );\r\n\r\n        let iterationResult = iterator.next();\r\n        assert(\r\n             iterationResult.value === values[0] && iterationResult.done === false,\r\n             `The first iteration result value must be ${values[0]} and must not be done`\r\n        );\r\n        iterationResult = iterator.next();\r\n        assert(\r\n             iterationResult.value === values[1] && iterationResult.done === false,\r\n             `The second iteration result value must be ${values[1]} and must not be done`\r\n        );\r\n        iterationResult = iterator.next();\r\n        assert(\r\n             iterationResult.value === values[2] && iterationResult.done === false,\r\n             `The third iteration result value must be ${values[2]} and must not be done`\r\n        );\r\n        iterationResult = iterator.next(); \r\n        assert(\r\n             iterationResult.value === undefined && iterationResult.done === true,\r\n             `The last iteration result value must be undefined and must be done`\r\n        );\r\n        end();\r\n    });\r\n\r\n    it(\"split test\", () => {\r\n        let words = `A Doubs riche commune d'un peu plus de 2 000 habitants proche de Pontarlier (Doubs) et de la frontière suisse un bâtiment tout neuf au bord de la route principale vient d'être terminé`;\r\n        const wordIterable = split(words);\r\n        assert(\r\n            typeof wordIterable.next === 'function',\r\n            \"The Iterator next property must be  a function\"\r\n        );\r\n        words.split(' ').forEach( w => {\r\n            const result = wordIterable.next();\r\n            expect(w).to.be.equal(result.value);\r\n        });\r\n        const end = wordIterable.next();\r\n        expect(end.value).to.be.undefined;\r\n        expect(end.done).to.be.true;\r\n    })        \r\n});"]}